<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Htech RedBox | Elite CTF Platform</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
        onload="renderMathInElement(document.body, {
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError : false
        });"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  </head>
  <body>
    <div class="grid-overlay"></div>
    <div class="scanline"></div>
    
    <div class="app-wrapper">
      <nav class="navbar">
        <div class="brand">
          <div class="brand-logo">
            <i class="fa-solid fa-cube"></i>
          </div>
          <div class="brand-text">
            <span class="brand-name">HTECH REDBOX</span>
            <span class="brand-dept">Cryptographie   // DIV_09</span>
          </div>
        </div>
        <div class="nav-links">
          <a href="{{ url_for('index') }}" class="nav-item {{ 'active' if request.endpoint == 'index' else '' }}">
            <span class="nav-num">01</span>
            <span class="nav-label">MISSIONS</span>
          </a>
          <a href="{{ url_for('archives') }}" class="nav-item {{ 'active' if request.endpoint == 'archives' else '' }}">
            <span class="nav-num">02</span>
            <span class="nav-label">ARCHIVES</span>
          </a>
          <a href="{{ url_for('operator') }}" class="nav-item {{ 'active' if request.endpoint == 'operator' else '' }}">
            <span class="nav-num">03</span>
            <span class="nav-label">OPERATOR</span>
          </a>
        </div>
        <div class="system-status">
          <span class="status-dot"></span>
          SYSTEM_ONLINE
        </div>
      </nav>

      <main class="{% block container_class %}container{% endblock %}">
        <div class="flash-container">
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                <div class="flash flash-{{ category }}">
                  <i class="fa-solid fa-circle-info"></i>
                  <span>{{ message }}</span>
                </div>
              {% endfor %}
            {% endif %}
          {% endwith %}
        </div>
        
        {% block content %}{% endblock %}
      </main>

      <footer>
        <p>&copy; 2025 Htech RedBox. Personel Authoriz√© uniquement. <br> <span style="opacity:0.5">System Version 0.9.2 - ùï∏‚ú∞</span></p>
      </footer>
    </div>
  </body>
</html>
